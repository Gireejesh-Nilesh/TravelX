<div class="auth-modal">
  <div class="auth-modal__panel" [class.auth-modal__panel--closing]="closing()">
    <button class="auth-modal__close" type="button" (click)="close()">Ã—</button>
    <h2>{{ mode === 'signin' ? 'Welcome Back' : 'Create Your Account' }}</h2>
    <p class="auth-modal__subtitle">
      {{
        mode === 'signin'
          ? 'Sign in to keep planning your next escape.'
          : 'Join the crew to save trips and unlock activities.'
      }}
    </p>

    <form (ngSubmit)="submit()">
      <div class="auth-modal__fields">
        <div class="auth-modal__row" *ngIf="mode === 'signup'">
          <div>
            <label>Name</label>
            <input
              [(ngModel)]="name"
              name="name"
              type="text"
              required
              (focus)="setFocused('name')"
              (blur)="clearFocused()"
            />
            <p class="field-error" *ngIf="nameError && focusedField !== 'name'">
              {{ nameError }}
            </p>
          </div>
          <div>
            <label>Mobile(optional)</label>
            <input [(ngModel)]="phone" name="phone" type="tel" />
          </div>
        </div>
        <label>Email</label>
        <input
          [(ngModel)]="email"
          name="email"
          type="email"
          required
          (focus)="setFocused('email')"
          (blur)="clearFocused()"
        />
        <p class="field-error" *ngIf="emailError && focusedField !== 'email'">
          {{ emailError }}
        </p>
        <label>Password</label>
        <input
          [(ngModel)]="password"
          name="password"
          type="password"
          required
          (focus)="setFocused('password')"
          (blur)="clearFocused()"
        />
        <p class="field-error" *ngIf="passwordError && focusedField !== 'password'">
          {{ passwordError }}
        </p>
      </div>

      <p class="auth-modal__error" *ngIf="formError()">{{ formError() }}</p>

      <div class="auth-modal__actions">
        <button class="auth-modal__submit" type="submit">
          {{ mode === 'signin' ? 'Sign In' : 'Sign Up' }}
        </button>
        <button class="auth-modal__back" type="button" (click)="goBack()">Go Back</button>
      </div>
    </form>

    <div class="auth-modal__divider">
      <span>or continue with</span>
    </div>

    <div class="auth-modal__social">
      <button type="button">
        <span class="icon">G</span>
        Google
      </button>
      <button type="button">
        <span class="icon">f</span>
        Facebook
      </button>
      <button type="button">
        <span class="icon">A</span>
        Apple
      </button>
    </div>
  </div>
</div>
